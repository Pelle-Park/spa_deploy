class I{withFields(X){let Z=Object.keys(this).map((Y)=>(Y in X)?X[Y]:this[Y]);return new this.constructor(...Z)}}class iZ{static fromArray(X,Z){let Y=Z||new A;for(let Q=X.length-1;Q>=0;--Q)Y=new jZ(X[Q],Y);return Y}[Symbol.iterator](){return new oQ(this)}toArray(){return[...this]}atLeastLength(X){let Z=this;while(X-- >0&&Z)Z=Z.tail;return Z!==void 0}hasLength(X){let Z=this;while(X-- >0&&Z)Z=Z.tail;return X===-1&&Z instanceof A}countLength(){let X=this,Z=0;while(X)X=X.tail,Z++;return Z-1}}function U(X,Z){return new jZ(X,Z)}function P(X,Z){return iZ.fromArray(X,Z)}class oQ{#X;constructor(X){this.#X=X}next(){if(this.#X instanceof A)return{done:!0};else{let{head:X,tail:Z}=this.#X;return this.#X=Z,{value:X,done:!1}}}}class A extends iZ{}var tQ=()=>new A,EY=(X)=>X instanceof A;class jZ extends iZ{constructor(X,Z){super();this.head=X,this.tail=Z}}var QZ=(X,Z)=>new jZ(X,Z),iX=(X)=>X instanceof jZ,LZ=(X)=>X.head,wX=(X)=>X.tail;class lZ{bitSize;byteSize;bitOffset;rawBuffer;constructor(X,Z,Y){if(!(X instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=Z??X.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=Y??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(X.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=X}byteAt(X){if(X<0||X>=this.byteSize)return;return AZ(this.rawBuffer,this.bitOffset,X)}equals(X){if(this.bitSize!==X.bitSize)return!1;let Z=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&X.bitOffset===0){for(let Q=0;Q<Z;Q++)if(this.rawBuffer[Q]!==X.rawBuffer[Q])return!1;let Y=this.bitSize%8;if(Y){let Q=8-Y;if(this.rawBuffer[Z]>>Q!==X.rawBuffer[Z]>>Q)return!1}}else{for(let Q=0;Q<Z;Q++){let J=AZ(this.rawBuffer,this.bitOffset,Q),W=AZ(X.rawBuffer,X.bitOffset,Q);if(J!==W)return!1}let Y=this.bitSize%8;if(Y){let Q=AZ(this.rawBuffer,this.bitOffset,Z),J=AZ(X.rawBuffer,X.bitOffset,Z),W=8-Y;if(Q>>W!==J>>W)return!1}}return!0}get buffer(){if(nQ("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(nQ("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}}function AZ(X,Z,Y){if(Z===0)return X[Y]??0;else{let Q=X[Y]<<Z&255,J=X[Y+1]>>8-Z;return Q|J}}class wY{constructor(X){this.value=X}}var lQ={};function nQ(X,Z){if(lQ[X])return;console.warn(`Deprecated BitArray.${X} property used in JavaScript FFI code. ${Z}.`),lQ[X]=!0}class nZ extends I{static isResult(X){return X instanceof nZ}}class c extends nZ{constructor(X){super();this[0]=X}isOk(){return!0}}var hX=(X)=>new c(X),YX=(X)=>X instanceof c,QX=(X)=>X[0];class n extends nZ{constructor(X){super();this[0]=X}isOk(){return!1}}var vX=(X)=>new n(X);function SX(X,Z){let Y=[X,Z];while(Y.length){let Q=Y.pop(),J=Y.pop();if(Q===J)continue;if(!aQ(Q)||!aQ(J))return!1;if(!o9(Q,J)||s9(Q,J)||r9(Q,J)||i9(Q,J)||l9(Q,J)||n9(Q,J)||a9(Q,J))return!1;let K=Object.getPrototypeOf(Q);if(K!==null&&typeof K.equals==="function")try{if(Q.equals(J))continue;else return!1}catch{}let[G,V]=d9(Q),H=G(Q),M=G(J);if(H.length!==M.length)return!1;for(let F of H)Y.push(V(Q,F),V(J,F))}return!0}function d9(X){if(X instanceof Map)return[(Z)=>Z.keys(),(Z,Y)=>Z.get(Y)];else{let Z=X instanceof globalThis.Error?["message"]:[];return[(Y)=>[...Z,...Object.keys(Y)],(Y,Q)=>Y[Q]]}}function s9(X,Z){return X instanceof Date&&(X>Z||X<Z)}function r9(X,Z){return!(X instanceof lZ)&&X.buffer instanceof ArrayBuffer&&X.BYTES_PER_ELEMENT&&!(X.byteLength===Z.byteLength&&X.every((Y,Q)=>Y===Z[Q]))}function i9(X,Z){return Array.isArray(X)&&X.length!==Z.length}function l9(X,Z){return X instanceof Map&&X.size!==Z.size}function n9(X,Z){return X instanceof Set&&(X.size!=Z.size||[...X].some((Y)=>!Z.has(Y)))}function a9(X,Z){return X instanceof RegExp&&(X.source!==Z.source||X.flags!==Z.flags)}function aQ(X){return typeof X==="object"&&X!==null}function o9(X,Z){if(typeof X!=="object"&&typeof Z!=="object"&&(!X||!Z))return!1;if([Promise,WeakSet,WeakMap,Function].some((Q)=>X instanceof Q))return!1;return X.constructor===Z.constructor}function xY(X,Z,Y,Q,J,W,K){let G=new globalThis.Error(W);G.gleam_error=X,G.file=Z,G.module=Y,G.line=Q,G.function=J,G.fn=J;for(let V in K)G[V]=K[V];return G}class a extends I{}var eQ=()=>new a;class o extends I{}var X6=()=>new o;class lX extends I{}var Z6=()=>new lX;class GX extends I{constructor(X){super();this[0]=X}}var aZ=(X)=>X instanceof GX,oZ=(X)=>X[0];class r extends I{}var Y6=new WeakMap,kY=new DataView(new ArrayBuffer(8)),yY=0;function fY(X){let Z=Y6.get(X);if(Z!==void 0)return Z;let Y=yY++;if(yY===2147483647)yY=0;return Y6.set(X,Y),Y}function Q6(X,Z){return X^Z+2654435769+(X<<6)+(X>>2)|0}function gY(X){let Z=0,Y=X.length;for(let Q=0;Q<Y;Q++)Z=Math.imul(31,Z)+X.charCodeAt(Q)|0;return Z}function W6(X){kY.setFloat64(0,X);let Z=kY.getInt32(0),Y=kY.getInt32(4);return Math.imul(73244475,Z>>16^Z)^Y}function t9(X){return gY(X.toString())}function e9(X){let Z=Object.getPrototypeOf(X);if(Z!==null&&typeof Z.hashCode==="function")try{let Q=X.hashCode(X);if(typeof Q==="number")return Q}catch{}if(X instanceof Promise||X instanceof WeakSet||X instanceof WeakMap)return fY(X);if(X instanceof Date)return W6(X.getTime());let Y=0;if(X instanceof ArrayBuffer)X=new Uint8Array(X);if(Array.isArray(X)||X instanceof Uint8Array)for(let Q=0;Q<X.length;Q++)Y=Math.imul(31,Y)+mX(X[Q])|0;else if(X instanceof Set)X.forEach((Q)=>{Y=Y+mX(Q)|0});else if(X instanceof Map)X.forEach((Q,J)=>{Y=Y+Q6(mX(Q),mX(J))|0});else{let Q=Object.keys(X);for(let J=0;J<Q.length;J++){let W=Q[J],K=X[W];Y=Y+Q6(mX(K),gY(W))|0}}return Y}function mX(X){if(X===null)return 1108378658;if(X===void 0)return 1108378659;if(X===!0)return 1108378657;if(X===!1)return 1108378656;switch(typeof X){case"number":return W6(X);case"string":return gY(X);case"bigint":return t9(X);case"object":return e9(X);case"symbol":return fY(X);case"function":return fY(X);default:return 0}}class JZ{constructor(X,Z){this.size=X,this.root=Z}}var ZY=5,XJ=(1<<ZY)-1,eZ=Symbol(),BZ=Symbol(),K6=YJ(0),G6=new JZ(0,K6),ZJ=vX(void 0);function YY(X,Z,Y,Q){return{datamap:Z,nodemap:Y,data:Q,[BZ]:X}}function YJ(X){return YY(X,0,0,[])}function QJ(X,Z){if(X[BZ]===Z)return X;let Y=X.data.slice(0);return YY(Z,X.datamap,X.nodemap,Y)}function bY(X,Z,Y,Q){if(X.data[Y]===Q)return X;return X=QJ(X,Z),X.data[Y]=Q,X}function J6(X,Z,Y,Q,J,W){let K=X.data,G=K.length,V=Array(G+2),H=0,M=0;while(H<Q)V[M++]=K[H++];V[M++]=J,V[M++]=W;while(H<G)V[M++]=K[H++];return YY(Z,X.datamap|Y,X.nodemap,V)}function WZ(){return G6}function $X(X,Z){let Y=JJ(X.root,Z,mX(Z));return Y!==eZ?hX(Y):ZJ}function JJ(X,Z,Y){for(let J=0;J<32;J+=ZY){let W=X.data,K=F6(Y,J);if(X.nodemap&K)X=W[W.length-1-TZ(X.nodemap,K)];else if(X.datamap&K){let G=Math.imul(TZ(X.datamap,K),2);return SX(Z,W[G])?W[G+1]:eZ}else return eZ}let Q=X.data;for(let J=0;J<Q.length;J+=2)if(SX(Z,Q[J]))return Q[J+1];return eZ}function V6(X){return{generation:H6(X),root:X.root,size:X.size,dict:X}}function H6(X){let Z=X.root;if(Z[BZ]<Number.MAX_SAFE_INTEGER)return Z[BZ]+1;let Y=[Z];while(Y.length){let Q=Y.pop();Q[BZ]=0;let J=data.length-_Y(Q.nodemap);for(let W=J;W<Q.data.length;++W)Y.push(Q.data[W])}return 1}var tZ=V6(G6);function KZ(X,Z,Y){tZ.generation=H6(X),tZ.size=X.size;let Q=mX(Z),J=XY(tZ,X.root,Z,Y,Q,0);if(J===X.root)return X;return new JZ(tZ.size,J)}function XY(X,Z,Y,Q,J,W){let K=Z.data,G=X.generation;if(W>32){for(let j=0;j<K.length;j+=2)if(SX(Y,K[j]))return bY(Z,G,j+1,Q);return X.size+=1,J6(Z,G,0,K.length,Y,Q)}let V=F6(J,W);if(Z.nodemap&V){let j=K.length-1-TZ(Z.nodemap,V),D=K[j];return D=XY(X,D,Y,Q,J,W+ZY),bY(Z,G,j,D)}let H=Math.imul(TZ(Z.datamap,V),2);if((Z.datamap&V)===0)return X.size+=1,J6(Z,G,V,H,Y,Q);if(SX(Y,K[H]))return bY(Z,G,H+1,Q);let M=W+ZY,F=K6;F=XY(X,F,Y,Q,J,M);let z=K[H],R=K[H+1],N=mX(z);F=XY(X,F,z,R,N,M),X.size-=1;let L=K.length,q=L-1-TZ(Z.nodemap,V),B=Array(L-1),T=0,O=0;while(T<H)B[O++]=K[T++];T+=2;while(T<=q)B[O++]=K[T++];B[O++]=F;while(T<L)B[O++]=K[T++];return YY(G,Z.datamap^V,Z.nodemap|V,B)}function aX(X,Z,Y){let Q=[X.root];while(Q.length){let J=Q.pop(),W=J.data,K=W.length-_Y(J.nodemap);for(let G=0;G<K;G+=2)Z=Y(Z,W[G],W[G+1]);for(let G=K;G<W.length;++G)Q.push(W[G])}return Z}function _Y(X){return X-=X>>>1&1431655765,X=(X&858993459)+(X>>>2&858993459),Math.imul(X+(X>>>4)&252645135,16843009)>>>24}function TZ(X,Z){return _Y(X&Z-1)}function F6(X,Z){return 1<<(X>>>Z&XJ)}function SZ(X){return aX(X,P([]),(Z,Y,Q)=>{return U(Y,Z)})}class t extends I{}class GZ extends I{}function PZ(X,Z){while(!0){let Y=X,Q=Z;if(Y instanceof A)return Q;else{let J=Y.head;X=Y.tail,Z=U(J,Q)}}}function l(X){return PZ(X,P([]))}function VJ(X,Z,Y){while(!0){let Q=X,J=Z,W=Y;if(Q instanceof A)return l(W);else{let K=Q.head;X=Q.tail,Z=J,Y=U(J(K),W)}}}function CZ(X,Z){return VJ(X,Z,P([]))}function HJ(X,Z){while(!0){let Y=X,Q=Z;if(Y instanceof A)return Q;else{let J=Y.head;X=Y.tail,Z=U(J,Q)}}}function hY(X,Z){return HJ(l(X),Z)}function QY(X,Z){return U(Z,X)}function VX(X,Z,Y){while(!0){let Q=X,J=Z,W=Y;if(Q instanceof A)return J;else{let K=Q.head;X=Q.tail,Z=W(J,K),Y=W}}}function FJ(X,Z,Y,Q,J,W){while(!0){let K=X,G=Z,V=Y,H=Q,M=J,F=W,z=U(M,V);if(K instanceof A)if(H instanceof t)return U(l(z),F);else return U(z,F);else{let{head:R,tail:N}=K,L=G(M,R);if(H instanceof t)if(L instanceof a)X=N,Z=G,Y=z,Q=H,J=R,W=F;else if(L instanceof o)X=N,Z=G,Y=z,Q=H,J=R,W=F;else{let q;if(H instanceof t)q=U(l(z),F);else q=U(z,F);let B=q;if(N instanceof A)return U(P([R]),B);else{let{head:T,tail:O}=N,j,D=G(R,T);if(D instanceof a)j=new t;else if(D instanceof o)j=new t;else j=new GZ;let w=j;X=O,Z=G,Y=P([R]),Q=w,J=T,W=B}}else if(L instanceof a){let q;if(H instanceof t)q=U(l(z),F);else q=U(z,F);let B=q;if(N instanceof A)return U(P([R]),B);else{let{head:T,tail:O}=N,j,D=G(R,T);if(D instanceof a)j=new t;else if(D instanceof o)j=new t;else j=new GZ;let w=j;X=O,Z=G,Y=P([R]),Q=w,J=T,W=B}}else if(L instanceof o){let q;if(H instanceof t)q=U(l(z),F);else q=U(z,F);let B=q;if(N instanceof A)return U(P([R]),B);else{let{head:T,tail:O}=N,j,D=G(R,T);if(D instanceof a)j=new t;else if(D instanceof o)j=new t;else j=new GZ;let w=j;X=O,Z=G,Y=P([R]),Q=w,J=T,W=B}}else X=N,Z=G,Y=z,Q=H,J=R,W=F}}}function UJ(X,Z,Y,Q){while(!0){let J=X,W=Z,K=Y,G=Q;if(J instanceof A)return PZ(W,G);else if(W instanceof A)return PZ(J,G);else{let{head:V,tail:H}=J,M=W.head,F=W.tail,z=K(V,M);if(z instanceof a)X=H,Z=W,Y=K,Q=U(V,G);else if(z instanceof o)X=J,Z=F,Y=K,Q=U(M,G);else X=J,Z=F,Y=K,Q=U(M,G)}}}function MJ(X,Z,Y){while(!0){let Q=X,J=Z,W=Y;if(Q instanceof A)return l(W);else{let K=Q.tail;if(K instanceof A){let G=Q.head;return l(U(l(G),W))}else{let G=Q.head,V=K.head,H=K.tail,M=UJ(G,V,J,P([]));X=H,Z=J,Y=U(M,W)}}}}function qJ(X,Z,Y,Q){while(!0){let J=X,W=Z,K=Y,G=Q;if(J instanceof A)return PZ(W,G);else if(W instanceof A)return PZ(J,G);else{let{head:V,tail:H}=J,M=W.head,F=W.tail,z=K(V,M);if(z instanceof a)X=J,Z=F,Y=K,Q=U(M,G);else if(z instanceof o)X=H,Z=W,Y=K,Q=U(V,G);else X=H,Z=W,Y=K,Q=U(V,G)}}}function NJ(X,Z,Y){while(!0){let Q=X,J=Z,W=Y;if(Q instanceof A)return l(W);else{let K=Q.tail;if(K instanceof A){let G=Q.head;return l(U(l(G),W))}else{let G=Q.head,V=K.head,H=K.tail,M=qJ(G,V,J,P([]));X=H,Z=J,Y=U(M,W)}}}}function zJ(X,Z,Y){while(!0){let Q=X,J=Z,W=Y;if(Q instanceof A)return Q;else if(J instanceof t)if(Q.tail instanceof A)return Q.head;else X=MJ(Q,W,P([])),Z=new GZ,Y=W;else if(Q.tail instanceof A){let G=Q.head;return l(G)}else X=NJ(Q,W,P([])),Z=new t,Y=W}}function q6(X,Z){if(X instanceof A)return X;else{let Y=X.tail;if(Y instanceof A)return X;else{let Q=X.head,J=Y.head,W=Y.tail,K,G=Z(Q,J);if(G instanceof a)K=new t;else if(G instanceof o)K=new t;else K=new GZ;let V=K,H=FJ(W,Z,P([Q]),V,J,P([]));return zJ(H,new t,Z)}}}function N6(X,Z){while(!0){let Y=X,Q=Z;if(Y instanceof A)return;else{let{head:J,tail:W}=Y;Q(J),X=W,Z=Q}}}function TJ(X,Z){while(!0){let Y=X,Q=Z;if(Y instanceof A)return Q;else{let J=Y.head;X=Y.tail,Z=Q+J}}}function D6(X){return TJ(X,"")}function A6(X,Z){if(Z==="")return vY(X);else{let Q=s(X),J=mY(Q,Z);return CZ(J,s)}}class uY extends I{constructor(X){super();this.function=X}}function VZ(X,Z){let Y=Z.function(X),Q,J;if(Q=Y[0],J=Y[1],J instanceof A)return new c(Q);else return new n(J)}function cY(X){return new uY((Z)=>{return[X,P([])]})}function JY(X,Z){return new uY((Y)=>{let Q=X.function(Y),J,W;return J=Q[0],W=Q[1],[Z(J),W]})}function s(X){return X}function uX(X){return X.toString()}function vY(X){let Z=wJ(X);if(Z)return pY(Array.from(Z).map((Y)=>Y.segment));else return pY(X.match(/./gsu))}var L6=void 0;function wJ(X){if(globalThis.Intl&&Intl.Segmenter)return L6||=new Intl.Segmenter,L6.segment(X)[Symbol.iterator]()}function mY(X,Z){return pY(X.split(Z))}function $Y(X,Z){return X.startsWith(Z)}var B6=[" ","\t",`
`,"\v","\f","\r","","\u2028","\u2029"].join(""),w7=new RegExp(`^[${B6}]*`),x7=new RegExp(`[${B6}]*$`);function T6(X){let Z=X.toString().replace("+","");if(Z.indexOf(".")>=0)return Z;else{let Y=Z.indexOf("e");if(Y>=0)return Z.slice(0,Y)+".0"+Z.slice(Y);else return Z+".0"}}class xJ{#X=new Set;inspect(X){let Z=typeof X;if(X===!0)return"True";if(X===!1)return"False";if(X===null)return"//js(null)";if(X===void 0)return"Nil";if(Z==="string")return this.#Q(X);if(Z==="bigint"||Number.isInteger(X))return X.toString();if(Z==="number")return T6(X);if(X instanceof wY)return this.#W(X);if(X instanceof lZ)return this.#V(X);if(X instanceof RegExp)return`//js(${X})`;if(X instanceof Date)return`//js(Date("${X.toISOString()}"))`;if(X instanceof globalThis.Error)return`//js(${X.toString()})`;if(X instanceof Function){let Q=[];for(let J of Array(X.length).keys())Q.push(String.fromCharCode(J+97));return`//fn(${Q.join(", ")}) { ... }`}if(this.#X.size===this.#X.add(X).size)return"//js(circular reference)";let Y;if(Array.isArray(X))Y=`#(${X.map((Q)=>this.inspect(Q)).join(", ")})`;else if(kJ(X))Y=this.#Z(X);else if(X instanceof I)Y=this.#Y(X);else if(X instanceof JZ)Y=this.#J(X);else if(X instanceof Set)return`//js(Set(${[...X].map((Q)=>this.inspect(Q)).join(", ")}))`;else Y=this.#G(X);return this.#X.delete(X),Y}#G(X){let Z=Object.getPrototypeOf(X)?.constructor?.name||"Object",Y=[];for(let W of Object.keys(X))Y.push(`${this.inspect(W)}: ${this.inspect(X[W])}`);let Q=Y.length?" "+Y.join(", ")+" ":"";return`//js(${Z==="Object"?"":Z+" "}{${Q}})`}#J(X){let Z="dict.from_list([",Y=!0;return Z=aX(X,Z,(Q,J,W)=>{if(!Y)Q=Q+", ";return Y=!1,Q+"#("+this.inspect(J)+", "+this.inspect(W)+")"}),Z+"])"}#Y(X){let Z=Object.keys(X).map((Y)=>{let Q=this.inspect(X[Y]);return isNaN(parseInt(Y))?`${Y}: ${Q}`:Q}).join(", ");return Z?`${X.constructor.name}(${Z})`:X.constructor.name}#Z(X){if(EY(X))return"[]";let Z='charlist.from_string("',Y="[",Q=X;while(iX(Q)){let J=Q.head;if(Q=Q.tail,Y!=="[")Y+=", ";if(Y+=this.inspect(J),Z)if(Number.isInteger(J)&&J>=32&&J<=126)Z+=String.fromCharCode(J);else Z=null}if(Z)return Z+'")';else return Y+"]"}#Q(X){let Z='"';for(let Y=0;Y<X.length;Y++){let Q=X[Y];switch(Q){case`
`:Z+="\\n";break;case"\r":Z+="\\r";break;case"\t":Z+="\\t";break;case"\f":Z+="\\f";break;case"\\":Z+="\\\\";break;case'"':Z+="\\\"";break;default:if(Q<" "||Q>"~"&&Q<" ")Z+="\\u{"+Q.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}";else Z+=Q}}return Z+='"',Z}#W(X){return`//utfcodepoint(${String.fromCodePoint(X.value)})`}#V(X){if(X.bitSize===0)return"<<>>";let Z="<<";for(let Y=0;Y<X.byteSize-1;Y++)Z+=X.byteAt(Y).toString(),Z+=", ";if(X.byteSize*8===X.bitSize)Z+=X.byteAt(X.byteSize-1).toString();else{let Y=X.bitSize%8;Z+=X.byteAt(X.byteSize-1)>>8-Y,Z+=`:size(${Y})`}return Z+=">>",Z}}function pY(X){let Z=tQ(),Y=X.length;while(Y--)Z=QZ(X[Y],Z);return Z}function kJ(X){return EY(X)||iX(X)}function P6(X,Z,Y){if(X)return Z;else return Y()}function JX(X){return X}function E6(X){return X.replaceAll(/[><&"']/g,(Z)=>{switch(Z){case">":return"&gt;";case"<":return"&lt;";case"'":return"&#39;";case"&":return"&amp;";case'"':return"&quot;";default:return Z}})}function w6(X){return E6(X)}function GY(X){return w6(X)}var S=P([]),HZ=new n(void 0);var cJ=Z6(),pJ=eQ(),dJ=X6();function VY(X,Z){if(X.name===Z.name)return dJ;else if(X.name<Z.name)return pJ;else return cJ}class DX extends I{constructor(X,Z,Y){super();this.kind=X,this.name=Z,this.value=Y}}class wZ extends I{constructor(X,Z,Y){super();this.kind=X,this.name=Z,this.value=Y}}class e extends I{constructor(X,Z,Y,Q,J,W,K,G){super();this.kind=X,this.name=Z,this.handler=Y,this.include=Q,this.prevent_default=J,this.stop_propagation=W,this.debounce=K,this.throttle=G}}class xZ extends I{constructor(X,Z,Y){super();this.prevent_default=X,this.stop_propagation=Z,this.message=Y}}class _6 extends I{constructor(X){super();this.kind=X}}var lY=0,h6=1,nY=2,aY=0,oY=new _6(aY);var tY=2;function lJ(X,Z){while(!0){let Y=X,Q=Z;if(Y instanceof A)return Q;else{let J=Y.head;if(J instanceof DX){let W=J.name;if(W==="")X=Y.tail,Z=Q;else if(W==="class"){let K=J.value;if(K==="")X=Y.tail,Z=Q;else{let G=Y.tail;if(G instanceof A){let V=J;X=G,Z=U(V,Q)}else{let V=G.head;if(V instanceof DX)if(V.name==="class"){let M=J.kind,F=K,z=G.tail,R=V.value,N=F+" "+R,L=new DX(M,"class",N);X=U(L,z),Z=Q}else{let M=J;X=G,Z=U(M,Q)}else{let H=J;X=G,Z=U(H,Q)}}}}else if(W==="style"){let K=J.value;if(K==="")X=Y.tail,Z=Q;else{let G=Y.tail;if(G instanceof A){let V=J;X=G,Z=U(V,Q)}else{let V=G.head;if(V instanceof DX)if(V.name==="style"){let M=J.kind,F=K,z=G.tail,R=V.value,N=F+";"+R,L=new DX(M,"style",N);X=U(L,z),Z=Q}else{let M=J;X=G,Z=U(M,Q)}else{let H=J;X=G,Z=U(H,Q)}}}}else{let K=J;X=Y.tail,Z=U(K,Q)}}else{let W=J;X=Y.tail,Z=U(W,Q)}}}}function v6(X){if(X instanceof A)return X;else if(X.tail instanceof A)return X;else{let Q=q6(X,(J,W)=>{return VY(W,J)});return lJ(Q,S)}}function m6(X,Z){return new DX(lY,X,Z)}function $6(X,Z,Y,Q,J,W,K){return new e(nY,X,Z,Y,Q,J,W,K)}function eY(X,Z){return m6(X,Z)}class XQ extends I{constructor(X,Z,Y){super();this.synchronous=X,this.before_paint=Z,this.after_paint=Y}}class u6 extends I{constructor(X,Z,Y,Q,J){super();this.dispatch=X,this.emit=Z,this.select=Y,this.root=Q,this.provide=J}}var c6=new XQ(P([]),P([]),P([]));function p6(X,Z,Y,Q,J,W){let K=new u6(Z,Y,Q,J,W);return N6(X.synchronous,(G)=>{return G(K)})}function yZ(){return c6}function d6(X){return VX(X,c6,(Z,Y)=>{return new XQ(VX(Y.synchronous,Z.synchronous,QY),VX(Y.before_paint,Z.before_paint,QY),VX(Y.after_paint,Z.after_paint,QY))})}function d(){return null}function XZ(X,Z){return X?.get(Z)}function UZ(X,Z,Y){return X?.get(Z)??Y()}function PX(X,Z){return X&&X.has(Z)}function qX(X,Z,Y){return X??=new Map,X.set(Z,Y),X}function HY(X,Z){return X?.delete(Z),X}function s6(X,Z){if(typeof X==="number"&&typeof Z==="number")return X===Z||X!==X&&Z!==Z;return X===Z}function r6(X,Z){while(!0){let Y=X,Q=Z;if(Y instanceof A)if(Q instanceof A)return!0;else return!1;else if(Q instanceof A)return!1;else{let{head:J,tail:W}=Y,K=Q.head,G=Q.tail,V=s6(J,K);if(V)X=W,Z=G;else return V}}}class CX extends I{constructor(X,Z,Y,Q){super();this.kind=X,this.key=Z,this.children=Y,this.keyed_children=Q}}class AX extends I{constructor(X,Z,Y,Q,J,W,K,G,V){super();this.kind=X,this.key=Z,this.namespace=Y,this.tag=Q,this.attributes=J,this.children=W,this.keyed_children=K,this.self_closing=G,this.void=V}}class EX extends I{constructor(X,Z,Y){super();this.kind=X,this.key=Z,this.content=Y}}class bX extends I{constructor(X,Z,Y,Q,J,W){super();this.kind=X,this.key=Z,this.namespace=Y,this.tag=Q,this.attributes=J,this.inner_html=W}}class NX extends I{constructor(X,Z,Y,Q){super();this.kind=X,this.key=Z,this.mapper=Y,this.child=Q}}class MZ extends I{constructor(X,Z,Y,Q){super();this.kind=X,this.key=Z,this.dependencies=Y,this.view=Q}}var qZ=0,ZZ=1,NZ=2,i6=3,cX=4,YQ=5;function fZ(X,Z){if(Z==="")if(X==="area")return!0;else if(X==="base")return!0;else if(X==="br")return!0;else if(X==="col")return!0;else if(X==="embed")return!0;else if(X==="hr")return!0;else if(X==="img")return!0;else if(X==="input")return!0;else if(X==="link")return!0;else if(X==="meta")return!0;else if(X==="param")return!0;else if(X==="source")return!0;else if(X==="track")return!0;else if(X==="wbr")return!0;else return!1;else return!1}function FY(X,Z){if(Z instanceof CX)return new CX(Z.kind,X,Z.children,Z.keyed_children);else if(Z instanceof AX)return new AX(Z.kind,X,Z.namespace,Z.tag,Z.attributes,Z.children,Z.keyed_children,Z.self_closing,Z.void);else if(Z instanceof EX)return new EX(Z.kind,X,Z.content);else if(Z instanceof bX)return new bX(Z.kind,X,Z.namespace,Z.tag,Z.attributes,Z.inner_html);else if(Z instanceof NX){let Y=Z.child;return new NX(Z.kind,X,Z.mapper,FY(X,Y))}else{let Y=Z.view;return new MZ(Z.kind,X,Z.dependencies,()=>{return FY(X,Y())})}}function QQ(X,Z,Y){return new CX(qZ,X,Z,Y)}function gZ(X,Z,Y,Q,J,W,K,G){return new AX(ZZ,X,Z,Y,v6(Q),J,W,K,G)}function JQ(X,Z){return new EX(NZ,X,Z)}function l6(X,Z){if(X instanceof NX){let Y=X.mapper;return new NX(cX,X.key,(Q)=>{return JX(Z)(Y(Q))},JX(X.child))}else return new NX(cX,X.key,JX(Z),JX(X))}function n6(X,Z,Y){return new MZ(YQ,X,Z,Y)}function zZ(X,Z,Y){return gZ("","",X,Z,Y,d(),!1,fZ(X,""))}function UY(X){return JQ("",X)}function a6(){return JQ("","")}function o6(X,Z){return n6("",X,Z)}function t6(X){return JX(X)}function e6(X,Z){return l6(X,Z)}function hZ(X){return UY(X)}function X8(X,Z){return zZ("div",X,Z)}function Z8(X,Z){return zZ("p",X,Z)}function WQ(X,Z){return zZ("button",X,Z)}class vZ extends I{constructor(X,Z,Y,Q){super();this.index=X,this.removed=Z,this.changes=Y,this.children=Q}}class Q8 extends I{constructor(X,Z){super();this.kind=X,this.content=Z}}class J8 extends I{constructor(X,Z){super();this.kind=X,this.inner_html=Z}}class W8 extends I{constructor(X,Z,Y){super();this.kind=X,this.added=Z,this.removed=Y}}class K8 extends I{constructor(X,Z,Y){super();this.kind=X,this.key=Z,this.before=Y}}class G8 extends I{constructor(X,Z,Y){super();this.kind=X,this.index=Z,this.with=Y}}class V8 extends I{constructor(X,Z){super();this.kind=X,this.index=Z}}class H8 extends I{constructor(X,Z,Y){super();this.kind=X,this.children=Z,this.before=Y}}var KQ=0,GQ=1,VQ=2,HQ=3,FQ=4,UQ=5,MQ=6;function qQ(X,Z,Y,Q){return new vZ(X,Z,Y,Q)}function F8(X){return new Q8(KQ,X)}function U8(X){return new J8(GQ,X)}function NQ(X,Z){return new W8(VQ,X,Z)}function M8(X,Z){return new K8(HQ,X,Z)}function q8(X){return new V8(FQ,X)}function fX(X,Z){return new G8(UQ,X,Z)}function zQ(X,Z){return new H8(MQ,X,Z)}class z8 extends I{constructor(X,Z,Y,Q,J,W,K,G,V){super();this.kind=X,this.open_shadow_root=Z,this.will_adopt_styles=Y,this.observed_attributes=Q,this.observed_properties=J,this.requested_contexts=W,this.provided_contexts=K,this.vdom=G,this.memos=V}}class R8 extends I{constructor(X,Z,Y){super();this.kind=X,this.patch=Z,this.memos=Y}}class I8 extends I{constructor(X,Z,Y){super();this.kind=X,this.name=Z,this.data=Y}}class O8 extends I{constructor(X,Z,Y){super();this.kind=X,this.key=Z,this.value=Y}}class D8 extends I{constructor(X,Z){super();this.kind=X,this.messages=Z}}var A8=(X)=>X instanceof D8;class j8 extends I{constructor(X,Z,Y){super();this.kind=X,this.name=Z,this.value=Y}}var L8=(X)=>X instanceof j8;class B8 extends I{constructor(X,Z,Y){super();this.kind=X,this.name=Z,this.value=Y}}var T8=(X)=>X instanceof B8;class S8 extends I{constructor(X,Z,Y,Q){super();this.kind=X,this.path=Z,this.name=Y,this.event=Q}}var P8=(X)=>X instanceof S8;class C8 extends I{constructor(X,Z,Y){super();this.kind=X,this.key=Z,this.value=Y}}var E8=(X)=>X instanceof C8;var W0=0,K0=1,G0=2,V0=3;function w8(X,Z,Y,Q,J,W,K,G){return new z8(W0,X,Z,Y,Q,J,W,K,G)}function RQ(X,Z){return new R8(K0,X,Z)}function x8(X,Z){return new I8(G0,X,Z)}function k8(X,Z){return new O8(V0,X,Z)}class IQ extends I{}class OQ extends I{constructor(X,Z){super();this.key=X,this.parent=Z}}class DQ extends I{constructor(X,Z){super();this.index=X,this.parent=Z}}class f8 extends I{constructor(X){super();this.parent=X}}var qY=new IQ,MY="\t",NY="\r",AQ=`
`;function H0(X,Z){while(!0){let Y=X,Q=Z;if(Q instanceof A)return!1;else{let{head:J,tail:W}=Q,K=$Y(Y,J);if(K)return K;else X=Y,Z=W}}}function WX(X,Z,Y){if(Y==="")return new DQ(Z,X);else return new OQ(Y,X)}function zY(X){return new f8(X)}function b8(X){if(X instanceof A)return"";else{let Z=X.tail;return D6(Z)}}function g8(X){return A6(X,NY)}function jQ(X,Z,Y){while(!0){let Q=X,J=Z,W=Y;if(J instanceof IQ)return b8(W);else if(J instanceof OQ){let{key:K,parent:G}=J;X=Q,Z=G,Y=U(MY,U(K,W))}else if(J instanceof DQ){let{index:K,parent:G}=J,V=U(MY,U(uX(K),W));X=Q,Z=G,Y=V}else if(!Q)return b8(W);else{let K=J.parent;if(W instanceof A)X=Q,Z=K,Y=W;else{let G=W.tail;X=Q,Z=K,Y=U(NY,G)}}}}function mZ(X){return jQ(!1,X,S)}function F0(X){return jQ(!0,X,S)}function _8(X,Z){if(Z instanceof A)return!1;else return H0(F0(X),Z)}function LQ(X,Z){return jQ(!1,X,U(AQ,U(Z,S)))}class gX extends I{constructor(X,Z,Y,Q,J){super();this.events=X,this.vdoms=Z,this.old_vdoms=Y,this.dispatched_paths=Q,this.next_dispatched_paths=J}}class dX extends I{constructor(X,Z){super();this.handlers=X,this.children=Z}}class IY extends I{constructor(X,Z){super();this.mapper=X,this.events=Z}}class $8 extends I{constructor(X,Z,Y){super();this.handlers=X,this.children=Z,this.vdoms=Y}}class SQ extends I{constructor(X,Z){super();this.path=X,this.handler=Z}}class BQ extends I{constructor(X){super();this.path=X}}function U0(X,Z){return(Y)=>{return X(Z(Y))}}function u8(){return new dX(d(),d())}function PQ(){return new gX(u8(),d(),d(),S,S)}function c8(X){return new gX(X.events,d(),X.vdoms,X.next_dispatched_paths,S)}function p8(X){return X.events}function d8(X,Z){return new gX(Z,X.vdoms,X.old_vdoms,X.dispatched_paths,X.next_dispatched_paths)}function RZ(X){return X.vdoms}function s8(X,Z,Y){return UZ(X.old_vdoms,Z,Y)}function r8(X,Z,Y){let Q=UZ(X.old_vdoms,Z,Y),J=qX(X.vdoms,Y,Q);return new gX(X.events,J,X.old_vdoms,X.dispatched_paths,X.next_dispatched_paths)}function i8(X,Z,Y){let Q=qX(X.vdoms,Z,Y);return new gX(X.events,Q,X.old_vdoms,X.dispatched_paths,X.next_dispatched_paths)}function l8(X,Z,Y){return UZ(X.children,Z,()=>{return new IY(Y,u8())}).events}function n8(X,Z,Y,Q){let J=new IY(Y,Q),W=qX(X.children,Z,J);return new dX(X.handlers,W)}function a8(X,Z,Y,Q){return qX(X,LQ(Z,Y),Q)}function IZ(X,Z,Y,Q){let J=a8(X.handlers,Z,Y,Q);return new dX(J,X.children)}function o8(X,Z,Y){return HY(X,LQ(Z,Y))}function OY(X,Z,Y){let Q=o8(X.handlers,Z,Y);return new dX(Q,X.children)}function v8(X,Z,Y){return VX(Y,X,(Q,J)=>{if(J instanceof e){let{name:W,handler:K}=J;return a8(Q,Z,W,K)}else return Q})}function RY(X,Z,Y,Q,J,W){while(!0){let K=X,G=Z,V=Y,H=Q,M=J,F=W,z=M+1;if(F instanceof A)return new $8(K,G,V);else{let R=F.head;if(R instanceof CX){let N=F.tail,L=R.key,q=R.children,B=WX(H,M,L),T=RY(K,G,V,B,0,q),O,j,D;O=T.handlers,j=T.children,D=T.vdoms,X=O,Z=j,Y=D,Q=H,J=z,W=N}else if(R instanceof AX){let N=F.tail,L=R.key,q=R.attributes,B=R.children,T=WX(H,M,L),O=v8(K,T,q),j=RY(O,G,V,T,0,B),D,w,h;D=j.handlers,w=j.children,h=j.vdoms,X=D,Z=w,Y=h,Q=H,J=z,W=N}else if(R instanceof EX){let N=F.tail;X=K,Z=G,Y=V,Q=H,J=z,W=N}else if(R instanceof bX){let N=F.tail,L=R.key,q=R.attributes,B=WX(H,M,L);X=v8(K,B,q),Z=G,Y=V,Q=H,J=z,W=N}else if(R instanceof NX){let N=F.tail,L=R.key,q=R.mapper,B=R.child,T=WX(H,M,L),O=RY(d(),d(),V,zY(T),0,U(B,S)),j=O.vdoms,D=new dX(O.handlers,O.children),w=new IY(q,D),h=qX(G,mZ(T),w);X=K,Z=h,Y=j,Q=H,J=z,W=N}else{let N=F.tail,L=R.view,q=L(),B=qX(V,L,q),T=M,O=U(q,N);X=K,Z=G,Y=B,Q=H,J=T,W=O}}}}function CQ(X,Z,Y,Q,J){let W=X.vdoms,K,G;K=Z.handlers,G=Z.children;let V=RY(K,G,W,Y,Q,J),H,M,F;return H=V.handlers,M=V.children,F=V.vdoms,[new gX(X.events,F,X.old_vdoms,X.dispatched_paths,X.next_dispatched_paths),new dX(H,M)]}function DY(X,Z,Y,Q,J){let W=U(J,S);return CQ(X,Z,Y,Q,W)}function t8(X){let Z=PQ(),Y=DY(Z,Z.events,qY,0,X),Q,J;return Q=Y[0],J=Y[1],new gX(J,Q.vdoms,Q.old_vdoms,Q.dispatched_paths,Q.next_dispatched_paths)}function m8(X,Z,Y){return VX(Y,X,(Q,J)=>{if(J instanceof e){let W=J.name;return o8(Q,Z,W)}else return Q})}function TQ(X,Z,Y,Q,J,W){while(!0){let K=X,G=Z,V=Y,H=Q,M=J,F=W,z=M+1;if(F instanceof A)return new dX(K,G);else{let R=F.head;if(R instanceof CX){let N=F.tail,L=R.key,q=R.children,B=WX(H,M,L),T=TQ(K,G,V,B,0,q),O,j;O=T.handlers,j=T.children,X=O,Z=j,Y=V,Q=H,J=z,W=N}else if(R instanceof AX){let N=F.tail,L=R.key,q=R.attributes,B=R.children,T=WX(H,M,L),O=m8(K,T,q),j=TQ(O,G,V,T,0,B),D,w;D=j.handlers,w=j.children,X=D,Z=w,Y=V,Q=H,J=z,W=N}else if(R instanceof EX){let N=F.tail;X=K,Z=G,Y=V,Q=H,J=z,W=N}else if(R instanceof bX){let N=F.tail,L=R.key,q=R.attributes,B=WX(H,M,L);X=m8(K,B,q),Z=G,Y=V,Q=H,J=z,W=N}else if(R instanceof NX){let N=F.tail,L=R.key,q=WX(H,M,L),B=HY(G,mZ(q));X=K,Z=B,Y=V,Q=H,J=z,W=N}else{let N=F.tail,L=R.view;if(PX(V,L)){let B=XZ(V,L),T=U(B,N);X=K,Z=G,Y=V,Q=H,J=M,W=T}else X=K,Z=G,Y=V,Q=H,J=z,W=N}}}}function AY(X,Z,Y,Q,J){return TQ(Z.handlers,Z.children,X.old_vdoms,Y,Q,U(J,S))}function _X(X,Z,Y,Q,J,W){let K=AY(X,Z,Y,Q,J);return DY(X,K,Y,Q,W)}function EQ(X,Z){let Y=U(Z.path,X.next_dispatched_paths),Q=new gX(X.events,X.vdoms,X.old_vdoms,X.dispatched_paths,Y);if(Z instanceof SQ){let J=Z.handler;return[Q,new c(J)]}else return[Q,HZ]}function jY(X,Z){return _8(Z,X.dispatched_paths)}function M0(X,Z,Y){while(!0){let Q=X,J=Z,W=Y;if(J instanceof A)return HZ;else{let K=J.tail;if(K instanceof A){let G=J.head;if(PX(Q.handlers,G)){let H=XZ(Q.handlers,G);return new c(JY(H,(M)=>{return new xZ(M.prevent_default,M.stop_propagation,JX(W)(M.message))}))}else return HZ}else{let G=J.head,V=K;if(PX(Q.children,G)){let M=XZ(Q.children,G),F=U0(W,M.mapper);X=M.events,Z=V,Y=F}else return HZ}}}}function wQ(X,Z,Y,Q){let J=g8(Z+AQ+Y),W=M0(X.events,J,JX);if(W instanceof c){let K=W[0],G=VZ(Q,K);if(G instanceof c){let V=G[0];return new SQ(Z,V)}else return new BQ(Z)}else return new BQ(Z)}function e8(X,Z,Y,Q){let J=wQ(X,Z,Y,Q);return((W)=>{return EQ(X,W)})(J)}class X9 extends I{constructor(X){super();this.message=X}}var Z9=(X)=>X instanceof X9;class Y9 extends I{constructor(X){super();this.callback=X}}var Q9=(X)=>X instanceof Y9;class J9 extends I{constructor(X){super();this.callback=X}}var W9=(X)=>X instanceof J9;class BY extends I{constructor(X){super();this.message=X}}var K9=(X)=>new BY(X),$Z=(X)=>X instanceof BY;class xQ extends I{constructor(X,Z){super();this.name=X,this.data=Z}}var G9=(X,Z)=>new xQ(X,Z),uZ=(X)=>X instanceof xQ;class kQ extends I{constructor(X,Z){super();this.key=X,this.value=Z}}var V9=(X,Z)=>new kQ(X,Z),H9=(X)=>X instanceof kQ;class yQ extends I{}var cZ=(X)=>X instanceof yQ;class bQ extends I{constructor(X,Z,Y,Q,J){super();this.name=X,this.init=Z,this.update=Y,this.view=Q,this.config=J}}class fQ extends I{constructor(X,Z,Y,Q,J,W,K,G,V,H,M,F,z){super();this.open_shadow_root=X,this.adopt_styles=Z,this.delegates_focus=Y,this.attributes=Q,this.properties=J,this.contexts=W,this.is_form_associated=K,this.on_form_autofill=G,this.on_form_reset=V,this.on_form_restore=H,this.on_connect=M,this.on_adopt=F,this.on_disconnect=z}}var U9=new fQ(!0,!0,!1,S,S,S,!1,new r,new r,new r,new r,new r,new r);var jX=(X,Z)=>{if(X===Z)return!0;if(X==null||Z==null)return!1;let Y=typeof X;if(Y!==typeof Z)return!1;if(Y!=="object")return!1;if(X.constructor!==Z.constructor)return!1;if(Array.isArray(X))return q0(X,Z);return N0(X,Z)},q0=(X,Z)=>{let Y=X.length;if(Y!==Z.length)return!1;while(Y--)if(!jX(X[Y],Z[Y]))return!1;return!0},N0=(X,Z)=>{let Y=Object.keys(X),Q=Y.length;if(Object.keys(Z).length!==Q)return!1;while(Q--){let J=Y[Q];if(!Object.hasOwn(Z,J))return!1;if(!jX(X[J],Z[J]))return!1}return!0};class N9 extends I{constructor(X,Z){super();this.patch=X,this.cache=Z}}class gQ extends I{constructor(X,Z,Y){super();this.patch=X,this.cache=Z,this.events=Y}}class z9 extends I{constructor(X,Z,Y){super();this.added=X,this.removed=Z,this.events=Y}}function z0(X,Z,Y,Q){if(Y==="input"&&Z==="")return jY(X,Q);else if(Y==="select"&&Z==="")return jY(X,Q);else if(Y==="textarea"&&Z==="")return jY(X,Q);else return!1}function q9(X,Z,Y,Q,J,W,K){while(!0){let G=X,V=Z,H=Y,M=Q,F=J,z=W,R=K;if(M instanceof A)if(F instanceof A)return new z9(z,R,H);else{let N=F.head;if(N instanceof e){let L=N,q=F.tail,B=N.name,T=N.handler,O=IZ(H,V,B,T),j=U(L,z);X=G,Z=V,Y=O,Q=M,J=q,W=j,K=R}else{let L=N,q=F.tail,B=U(L,z);X=G,Z=V,Y=H,Q=M,J=q,W=B,K=R}}else if(F instanceof A){let N=M.head;if(N instanceof e){let L=N,q=M.tail,B=N.name,T=OY(H,V,B),O=U(L,R);X=G,Z=V,Y=T,Q=q,J=F,W=z,K=O}else{let L=N,q=M.tail,B=U(L,R);X=G,Z=V,Y=H,Q=q,J=F,W=z,K=B}}else{let{head:N,tail:L}=M,q=F.head,B=F.tail,T=VY(N,q);if(T instanceof a)if(N instanceof e){let O=N.name;X=G,Z=V,Y=OY(H,V,O),Q=L,J=F,W=z,K=U(N,R)}else X=G,Z=V,Y=H,Q=L,J=F,W=z,K=U(N,R);else if(T instanceof o)if(N instanceof DX)if(q instanceof DX){let O,j=q.name;if(j==="value")O=G||N.value!==q.value;else if(j==="checked")O=G||N.value!==q.value;else if(j==="selected")O=G||N.value!==q.value;else O=N.value!==q.value;let D=O,w;if(D)w=U(q,z);else w=z;let h=w;X=G,Z=V,Y=H,Q=L,J=B,W=h,K=R}else if(q instanceof e){let{name:O,handler:j}=q;X=G,Z=V,Y=IZ(H,V,O,j),Q=L,J=B,W=U(q,z),K=U(N,R)}else X=G,Z=V,Y=H,Q=L,J=B,W=U(q,z),K=U(N,R);else if(N instanceof wZ)if(q instanceof wZ){let O,j=q.name;if(j==="scrollLeft")O=!0;else if(j==="scrollRight")O=!0;else if(j==="value")O=G||!jX(N.value,q.value);else if(j==="checked")O=G||!jX(N.value,q.value);else if(j==="selected")O=G||!jX(N.value,q.value);else O=!jX(N.value,q.value);let D=O,w;if(D)w=U(q,z);else w=z;let h=w;X=G,Z=V,Y=H,Q=L,J=B,W=h,K=R}else if(q instanceof e){let{name:O,handler:j}=q;X=G,Z=V,Y=IZ(H,V,O,j),Q=L,J=B,W=U(q,z),K=U(N,R)}else X=G,Z=V,Y=H,Q=L,J=B,W=U(q,z),K=U(N,R);else if(q instanceof e){let{name:O,handler:j}=q,D=N.prevent_default.kind!==q.prevent_default.kind||N.stop_propagation.kind!==q.stop_propagation.kind||N.debounce!==q.debounce||N.throttle!==q.throttle,w;if(D)w=U(q,z);else w=z;let h=w;X=G,Z=V,Y=IZ(H,V,O,j),Q=L,J=B,W=h,K=R}else{let O=N.name;X=G,Z=V,Y=OY(H,V,O),Q=L,J=B,W=U(q,z),K=U(N,R)}else if(q instanceof e){let{name:O,handler:j}=q;X=G,Z=V,Y=IZ(H,V,O,j),Q=M,J=B,W=U(q,z),K=R}else X=G,Z=V,Y=H,Q=M,J=B,W=U(q,z),K=R}}}function TY(X,Z,Y,Q,J,W,K,G,V,H,M,F,z,R){while(!0){let N=X,L=Z,q=Y,B=Q,T=J,O=W,j=K,D=G,w=V,h=H,v=M,g=F,u=z,p=R;if(N instanceof A)if(q instanceof A){let XX=new vZ(w,j,h,v);return new gQ(XX,u,p)}else{let XX=CQ(u,p,g,D,q),ZX,$;ZX=XX[0],$=XX[1];let m=zQ(q,D-O),y=U(m,h),_=new vZ(w,j,y,v);return new gQ(_,ZX,$)}else if(q instanceof A){let{head:XX,tail:ZX}=N,$;if(XX.key===""||!PX(T,XX.key))$=j+1;else $=j;let y=$,_=AY(u,p,g,D,XX);X=ZX,Z=L,Y=q,Q=B,J=T,W=O,K=y,G=D,V=w,H=h,M=v,F=g,z=u,R=_}else{let XX=N.head,ZX=q.head;if(XX.key!==ZX.key){let $=N.tail,m=q.tail,y=PX(L,ZX.key);if(PX(B,XX.key))if(y)if(PX(T,XX.key))X=$,Z=L,Y=q,Q=B,J=T,W=O-1,K=j,G=D,V=w,H=h,M=v,F=g,z=u,R=p;else{let f=XZ(L,ZX.key),b=D-O,E=U(M8(ZX.key,b),h),k=qX(T,ZX.key,void 0);X=U(f,N),Z=L,Y=q,Q=B,J=k,W=O+1,K=j,G=D,V=w,H=E,M=v,F=g,z=u,R=p}else{let C=D-O,f=DY(u,p,g,D,ZX),b,E;b=f[0],E=f[1];let k=zQ(P([ZX]),C),x=U(k,h);X=N,Z=L,Y=m,Q=B,J=T,W=O+1,K=j,G=D+1,V=w,H=x,M=v,F=g,z=b,R=E}else if(y){let C=D-O,f=U(q8(C),h),b=AY(u,p,g,D,XX);X=$,Z=L,Y=q,Q=B,J=T,W=O-1,K=j,G=D,V=w,H=f,M=v,F=g,z=u,R=b}else{let C=fX(D-O,ZX),f=_X(u,p,g,D,XX,ZX),b,E;b=f[0],E=f[1],X=$,Z=L,Y=m,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=U(C,h),M=v,F=g,z=b,R=E}}else{let $=N.head;if($ instanceof CX){let m=q.head;if(m instanceof CX){let y=$,_=N.tail,C=m,f=q.tail,b=TY(y.children,y.keyed_children,C.children,C.keyed_children,d(),0,0,0,D,S,S,WX(g,D,C.key),u,p),E,k,x;E=b.patch,k=b.cache,x=b.events;let i;if(E.changes instanceof A)if(E.children instanceof A)if(E.removed===0)i=v;else i=U(E,v);else i=U(E,v);else i=U(E,v);let TX=i;X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=h,M=TX,F=g,z=k,R=x}else{let y=$,_=N.tail,C=m,f=q.tail,b=fX(D-O,C),E=_X(u,p,g,D,y,C),k,x;k=E[0],x=E[1],X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=U(b,h),M=v,F=g,z=k,R=x}}else if($ instanceof AX){let m=q.head;if(m instanceof AX){let y=$,_=m;if(y.namespace===_.namespace&&y.tag===_.tag){let C=N.tail,f=q.tail,b=WX(g,D,_.key),E=z0(u,_.namespace,_.tag,b),k=q9(E,b,p,y.attributes,_.attributes,S,S),x,i,KX;x=k.added,i=k.removed,KX=k.events;let TX;if(x instanceof A&&i instanceof A)TX=S;else TX=P([NQ(x,i)]);let FX=TX,YZ=TY(y.children,y.keyed_children,_.children,_.keyed_children,d(),0,0,0,D,FX,S,b,u,KX),UX,rX,OZ;UX=YZ.patch,rX=YZ.cache,OZ=YZ.events;let DZ;if(UX.changes instanceof A)if(UX.children instanceof A)if(UX.removed===0)DZ=v;else DZ=U(UX,v);else DZ=U(UX,v);else DZ=U(UX,v);let p9=DZ;X=C,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=h,M=p9,F=g,z=rX,R=OZ}else{let C=$,f=N.tail,b=m,E=q.tail,k=fX(D-O,b),x=_X(u,p,g,D,C,b),i,KX;i=x[0],KX=x[1],X=f,Z=L,Y=E,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=U(k,h),M=v,F=g,z=i,R=KX}}else{let y=$,_=N.tail,C=m,f=q.tail,b=fX(D-O,C),E=_X(u,p,g,D,y,C),k,x;k=E[0],x=E[1],X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=U(b,h),M=v,F=g,z=k,R=x}}else if($ instanceof EX){let m=q.head;if(m instanceof EX){let y=$,_=m;if(y.content===_.content){let C=N.tail,f=q.tail;X=C,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=h,M=v,F=g,z=u,R=p}else{let C=N.tail,f=m,b=q.tail,E=qQ(D,0,P([F8(f.content)]),S);X=C,Z=L,Y=b,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=h,M=U(E,v),F=g,z=u,R=p}}else{let y=$,_=N.tail,C=m,f=q.tail,b=fX(D-O,C),E=_X(u,p,g,D,y,C),k,x;k=E[0],x=E[1],X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=U(b,h),M=v,F=g,z=k,R=x}}else if($ instanceof bX){let m=q.head;if(m instanceof bX){let y=$,_=N.tail,C=m,f=q.tail,b=WX(g,D,C.key),E=q9(!1,b,p,y.attributes,C.attributes,S,S),k,x,i;k=E.added,x=E.removed,i=E.events;let KX;if(k instanceof A&&x instanceof A)KX=S;else KX=P([NQ(k,x)]);let TX=KX,FX;if(y.inner_html===C.inner_html)FX=TX;else FX=U(U8(C.inner_html),TX);let UX=FX,rX;if(UX instanceof A)rX=v;else rX=U(qQ(D,0,UX,P([])),v);let OZ=rX;X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=h,M=OZ,F=g,z=u,R=i}else{let y=$,_=N.tail,C=m,f=q.tail,b=fX(D-O,C),E=_X(u,p,g,D,y,C),k,x;k=E[0],x=E[1],X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=U(b,h),M=v,F=g,z=k,R=x}}else if($ instanceof NX){let m=q.head;if(m instanceof NX){let y=$,_=N.tail,C=m,f=q.tail,b=WX(g,D,C.key),E=mZ(b),k=TY(U(y.child,S),d(),U(C.child,S),d(),d(),0,0,0,D,S,S,zY(b),u,l8(p,E,y.mapper)),x,i,KX;x=k.patch,i=k.cache,KX=k.events;let TX=n8(p,E,C.mapper,KX),FX;if(x.changes instanceof A)if(x.children instanceof A)if(x.removed===0)FX=v;else FX=U(x,v);else FX=U(x,v);else FX=U(x,v);let UX=FX;X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=h,M=UX,F=g,z=i,R=TX}else{let y=$,_=N.tail,C=m,f=q.tail,b=fX(D-O,C),E=_X(u,p,g,D,y,C),k,x;k=E[0],x=E[1],X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=U(b,h),M=v,F=g,z=k,R=x}}else{let m=q.head;if(m instanceof MZ){let y=$,_=N.tail,C=m,f=q.tail;if(r6(y.dependencies,C.dependencies)){let E=r8(u,y.view,C.view);X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=h,M=v,F=g,z=E,R=p}else{let E=s8(u,y.view,y.view),k=C.view(),x=i8(u,C.view,k);X=U(E,_),Z=L,Y=U(k,f),Q=B,J=T,W=O,K=j,G=D,V=w,H=h,M=v,F=g,z=x,R=p}}else{let y=$,_=N.tail,C=m,f=q.tail,b=fX(D-O,C),E=_X(u,p,g,D,y,C),k,x;k=E[0],x=E[1],X=_,Z=L,Y=f,Q=B,J=T,W=O,K=j,G=D+1,V=w,H=U(b,h),M=v,F=g,z=k,R=x}}}}}}function pZ(X,Z,Y){let Q=c8(X),J=TY(U(Z,S),d(),U(Y,S),d(),d(),0,0,0,0,S,S,qY,Q,p8(Q)),W,K,G;return W=J.patch,K=J.cache,G=J.events,new N9(W,d8(K,G))}var R9=(X)=>X.reduceRight((Z,Y)=>QZ(Y,Z),S),LX=(X,Z)=>{if(Array.isArray(X))for(let Y=0;Y<X.length;Y++)Z(X[Y]);else if(X)for(X;wX(X);X=wX(X))Z(LZ(X))},_Q=(X,Z)=>{if(!wX(X))return Z;else if(!wX(Z))return X;else return hY(X,Z)};var SY="http://www.w3.org/1999/xhtml",I9=1,O9=3,hQ=8;var D9=!!globalThis.HTMLElement?.prototype?.moveBefore;var{setTimeout:I0,clearTimeout:vQ}=globalThis,O0=(X,Z)=>globalThis.document.createElementNS(X,Z),A9=(X)=>globalThis.document.createTextNode(X),j9=(X)=>globalThis.document.createComment(X),D0=()=>globalThis.document.createDocumentFragment(),sX=(X,Z,Y)=>X.insertBefore(Z,Y),L9=D9?(X,Z,Y)=>X.moveBefore(Z,Y):sX,B9=(X,Z)=>X.removeChild(Z),A0=(X,Z)=>X.getAttribute(Z),T9=(X,Z,Y)=>X.setAttribute(Z,Y),j0=(X,Z)=>X.removeAttribute(Z),L0=(X,Z,Y,Q)=>X.addEventListener(Z,Y,Q),S9=(X,Z,Y)=>X.removeEventListener(Z,Y),B0=(X,Z)=>X.innerHTML=Z,T0=(X,Z)=>X.data=Z,zX=Symbol("lustre");class E9{constructor(X,Z,Y,Q){this.kind=X,this.key=Q,this.parent=Z,this.children=[],this.node=Y,this.endNode=null,this.handlers=new Map,this.throttles=new Map,this.debouncers=new Map}get isVirtual(){return this.kind===qZ||this.kind===cX}get parentNode(){return this.isVirtual?this.node.parentNode:this.node}}var BX=(X,Z,Y,Q,J)=>{let W=new E9(X,Z,Y,J);return Y[zX]=W,Z?.children.splice(Q,0,W),W},S0=(X)=>{let Z="";for(let Y=X[zX];Y.parent;Y=Y.parent){let Q=Y.parent&&Y.parent.kind===cX?NY:MY;if(Y.key)Z=`${Q}${Y.key}${Z}`;else{let J=Y.parent.children.indexOf(Y);Z=`${Q}${J}${Z}`}}return Z.slice(1)};class $Q{#X=null;#G;#J;#Y=!1;constructor(X,Z,Y,{debug:Q=!1}={}){this.#X=X,this.#G=Z,this.#J=Y,this.#Y=Q}mount(X){BX(ZZ,null,this.#X,0,null),this.#z(this.#X,null,this.#X[zX],0,X)}push(X,Z=null){this.#Z=Z,this.#Q.push({node:this.#X[zX],patch:X}),this.#W()}#Z;#Q=[];#W(){let X=this.#Q;while(X.length){let{node:Z,patch:Y}=X.pop(),{children:Q}=Z,{changes:J,removed:W,children:K}=Y;if(LX(J,(G)=>this.#V(Z,G)),W)this.#q(Z,Q.length-W,W);LX(K,(G)=>{let V=Q[G.index|0];this.#Q.push({node:V,patch:G})})}}#V(X,Z){switch(Z.kind){case KQ:this.#S(X,Z);break;case GQ:this.#A(X,Z);break;case VQ:this.#T(X,Z);break;case HQ:this.#U(X,Z);break;case FQ:this.#R(X,Z);break;case UQ:this.#K(X,Z);break;case MQ:this.#F(X,Z);break}}#F(X,{children:Z,before:Y}){let Q=D0(),J=this.#H(X,Y);this.#O(Q,null,X,Y|0,Z),sX(X.parentNode,Q,J)}#K(X,{index:Z,with:Y}){this.#q(X,Z|0,1);let Q=this.#H(X,Z);this.#z(X.parentNode,Q,X,Z|0,Y)}#H(X,Z){Z=Z|0;let{children:Y}=X,Q=Y.length;if(Z<Q)return Y[Z].node;if(X.endNode)return X.endNode;if(!X.isVirtual)return null;while(X.isVirtual&&X.children.length){if(X.endNode)return X.endNode.nextSibling;X=X.children[X.children.length-1]}return X.node.nextSibling}#U(X,{key:Z,before:Y}){Y=Y|0;let{children:Q,parentNode:J}=X,W=Q[Y].node,K=Q[Y];for(let G=Y+1;G<Q.length;++G){let V=Q[G];if(Q[G]=K,K=V,V.key===Z){Q[Y]=V;break}}this.#N(J,K,W)}#M(X,Z,Y){for(let Q=0;Q<Z.length;++Q)this.#N(X,Z[Q],Y)}#N(X,Z,Y){if(L9(X,Z.node,Y),Z.isVirtual)this.#M(X,Z.children,Y);if(Z.endNode)L9(X,Z.endNode,Y)}#R(X,{index:Z}){this.#q(X,Z,1)}#q(X,Z,Y){let{children:Q,parentNode:J}=X,W=Q.splice(Z,Y);for(let K=0;K<W.length;++K){let G=W[K],{node:V,endNode:H,isVirtual:M,children:F}=G;if(B9(J,V),H)B9(J,H);if(this.#D(G),M)W.push(...F)}}#D(X){let{debouncers:Z,children:Y}=X;for(let{timeout:Q}of Z.values())if(Q)vQ(Q);Z.clear(),LX(Y,(Q)=>this.#D(Q))}#T({node:X,handlers:Z,throttles:Y,debouncers:Q},{added:J,removed:W}){LX(W,({name:K})=>{if(Z.delete(K))S9(X,K,mQ),this.#I(Y,K,0),this.#I(Q,K,0);else j0(X,K),C9[K]?.removed?.(X,K)}),LX(J,(K)=>this.#B(X,K))}#S({node:X},{content:Z}){T0(X,Z??"")}#A({node:X},{inner_html:Z}){B0(X,Z??"")}#O(X,Z,Y,Q,J){LX(J,(W)=>this.#z(X,Z,Y,Q++,W))}#z(X,Z,Y,Q,J){switch(J.kind){case ZZ:{let W=this.#j(Y,Q,J);this.#O(W,null,W[zX],0,J.children),sX(X,W,Z);break}case NZ:{let W=this.#P(Y,Q,J);sX(X,W,Z);break}case qZ:{let K=this.#L("lustre:fragment",Y,Q,J);if(sX(X,K,Z),this.#O(X,Z,K[zX],0,J.children),this.#Y)K[zX].endNode=j9(" /lustre:fragment "),sX(X,K[zX].endNode,Z);break}case i6:{let W=this.#j(Y,Q,J);this.#A({node:W},J),sX(X,W,Z);break}case cX:{let W=this.#L("lustre:map",Y,Q,J);sX(X,W,Z),this.#z(X,Z,W[zX],0,J.child);break}case YQ:{let W=this.#Z?.get(J.view)??J.view();this.#z(X,Z,Y,Q,W);break}}}#j(X,Z,{kind:Y,key:Q,tag:J,namespace:W,attributes:K}){let G=O0(W||SY,J);if(BX(Y,X,G,Z,Q),this.#Y&&Q)T9(G,"data-lustre-key",Q);return LX(K,(V)=>this.#B(G,V)),G}#P(X,Z,{kind:Y,key:Q,content:J}){let W=A9(J??"");return BX(Y,X,W,Z,Q),W}#L(X,Z,Y,{kind:Q,key:J}){let W=this.#Y?j9(P0(X,J)):A9("");return BX(Q,Z,W,Y,J),W}#B(X,Z){let{debouncers:Y,handlers:Q,throttles:J}=X[zX],{kind:W,name:K,value:G,prevent_default:V,debounce:H,throttle:M}=Z;switch(W){case lY:{let F=G??"";if(K==="virtual:defaultValue"){X.defaultValue=F;return}else if(K==="virtual:defaultChecked"){X.defaultChecked=!0;return}else if(K==="virtual:defaultSelected"){X.defaultSelected=!0;return}if(F!==A0(X,K))T9(X,K,F);C9[K]?.added?.(X,F);break}case h6:X[K]=G;break;case nY:{if(Q.has(K))S9(X,K,mQ);let F=V.kind===aY;L0(X,K,mQ,{passive:F}),this.#I(J,K,M),this.#I(Y,K,H),Q.set(K,(z)=>this.#C(Z,z));break}}}#I(X,Z,Y){let Q=X.get(Z);if(Y>0)if(Q)Q.delay=Y;else X.set(Z,{delay:Y});else if(Q){let{timeout:J}=Q;if(J)vQ(J);X.delete(Z)}}#C(X,Z){let{currentTarget:Y,type:Q}=Z,{debouncers:J,throttles:W}=Y[zX],K=S0(Y),{prevent_default:G,stop_propagation:V,include:H}=X;if(G.kind===tY)Z.preventDefault();if(V.kind===tY)Z.stopPropagation();if(Q==="submit")Z.detail??={},Z.detail.formData=[...new FormData(Z.target,Z.submitter).entries()];let M=this.#G(Z,K,Q,H),F=W.get(Q);if(F){let R=Date.now(),N=F.last||0;if(R>N+F.delay)F.last=R,F.lastEvent=Z,this.#J(Z,M)}let z=J.get(Q);if(z)vQ(z.timeout),z.timeout=I0(()=>{if(Z===W.get(Q)?.lastEvent)return;this.#J(Z,M)},z.delay);if(!F&&!z)this.#J(Z,M)}}var P0=(X,Z)=>{if(Z)return` ${X} key="${GY(Z)}" `;else return` ${X} `},mQ=(X)=>{let{currentTarget:Z,type:Y}=X;Z[zX].handlers.get(Y)(X)},P9=(X)=>{return{added(Z){Z[X]=!0},removed(Z){Z[X]=!1}}},C0=(X)=>{return{added(Z,Y){Z[X]=Y}}},C9={checked:P9("checked"),selected:P9("selected"),value:C0("value"),autofocus:{added(X){queueMicrotask(()=>{X.focus?.()})}},autoplay:{added(X){try{X.play?.()}catch(Z){console.error(Z)}}}};function E0(X,Z,Y){while(!0){let Q=X,J=Z,W=Y;if(Q instanceof A)return[J,l(W)];else{let K=Q.tail,G=Q.head[0],V=Q.head[1],H=FY(G,V),M;if(G==="")M=J;else M=qX(J,G,H);let F=M,z=U(H,W);X=K,Z=F,Y=z}}}function uQ(X){return E0(X,d(),S)}function w9(X,Z,Y){let Q=uQ(Y),J,W;return J=Q[0],W=Q[1],gZ("","",X,Z,W,J,!1,fZ(X,""))}function x9(X,Z,Y,Q){let J=uQ(Q),W,K;return W=J[0],K=J[1],gZ("",X,Z,Y,K,W,!1,fZ(Z,X))}function k9(X){let Z=uQ(X),Y,Q;return Y=Z[0],Q=Z[1],QQ("",Q,Y)}var y9=(X)=>{let Z=BX(ZZ,null,X,0,null);for(let Q=X.firstChild;Q;Q=Q.nextSibling){let J=PY(Z,X,Q,0);if(J)return J.vnode}let Y=globalThis.document.createTextNode("");return BX(NZ,Z,Y,0,null),X.insertBefore(Y,X.firstChild),a6()},PY=(X,Z,Y,Q)=>{if(Y.nodeType===hQ){let J=Y.data.trim();if(J.startsWith("lustre:fragment"))return k0(X,Z,Y,Q);if(J.startsWith("lustre:map"))return y0(X,Z,Y,Q);if(J.startsWith("lustre:memo"))return b0(X,Z,Y,Q);return null}if(Y.nodeType===I9)return w0(X,Y,Q);if(Y.nodeType===O9)return x0(X,Y,Q);return null},w0=(X,Z,Y)=>{let Q=Z.getAttribute("data-lustre-key")??"";if(Q)Z.removeAttribute("data-lustre-key");let J=BX(ZZ,X,Z,Y,Q),W=Z.localName,K=Z.namespaceURI,G=!K||K===SY;if(G&&g0.includes(W))_0(W,Z);let V=f0(Z),H=[];for(let F=Z.firstChild;F;){let z=PY(J,Z,F,H.length);if(z)H.push([z.key,z.vnode]),F=z.next;else F=F.nextSibling}let M=G?w9(W,V,dZ(H)):x9(K,W,V,dZ(H));return sZ(Q,M,Z.nextSibling)},x0=(X,Z,Y)=>{return BX(NZ,X,Z,Y,null),sZ("",UY(Z.data),Z.nextSibling)},k0=(X,Z,Y,Q)=>{let J=cQ(Y.data),W=BX(qZ,X,Y,Q,J),K=[];Y=Y.nextSibling;while(Y&&(Y.nodeType!==hQ||Y.data.trim()!=="/lustre:fragment")){let V=PY(W,Z,Y,K.length);if(V)K.push([V.key,V.vnode]),Y=V.next;else Y=Y.nextSibling}W.endNode=Y;let G=k9(dZ(K));return sZ(J,G,Y?.nextSibling)},y0=(X,Z,Y,Q)=>{let J=cQ(Y.data),W=BX(cX,X,Y,Q,J),K=b9(W,Z,Y,0);if(!K)return null;let G=e6(K.vnode,(V)=>V);return sZ(J,G,K.next)},b0=(X,Z,Y,Q)=>{let J=cQ(Y.data),W=b9(X,Z,Y,Q);if(!W)return null;Z.removeChild(Y);let K=o6(dZ([t6({})]),()=>W.vnode);return sZ(J,K,W.next)},b9=(X,Z,Y,Q)=>{while(!0){if(Y=Y.nextSibling,!Y)return null;let J=PY(X,Z,Y,Q);if(J)return J}},sZ=(X,Z,Y)=>{return{key:X,vnode:Z,next:Y}},f0=(X)=>{let Z=[];for(let Y=0;Y<X.attributes.length;Y++){let Q=X.attributes[Y];if(Q.name!=="xmlns")Z.push(eY(Q.localName,Q.value))}return dZ(Z)},g0=["input","select","textarea"],_0=(X,Z)=>{let{value:Y,checked:Q}=Z;if(X==="input"&&Z.type==="checkbox"&&!Q)return;if(X==="input"&&Z.type==="radio"&&!Q)return;if(Z.type!=="checkbox"&&Z.type!=="radio"&&!Y)return;queueMicrotask(()=>{if(Z.value=Y,Z.checked=Q,Z.dispatchEvent(new Event("input",{bubbles:!0})),Z.dispatchEvent(new Event("change",{bubbles:!0})),globalThis.document.activeElement!==Z)Z.dispatchEvent(new Event("blur",{bubbles:!0}))})},cQ=(X)=>{let Z=X.match(/key="([^"]*)"/);if(!Z)return"";return h0(Z[1])},h0=(X)=>{return X.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/&#39;/g,"'")},dZ=(X)=>X.reduceRight((Z,Y)=>QZ(Y,Z),S);var rZ=()=>!!globalThis.document;class CY{constructor(X,[Z,Y],Q,J,W){this.root=X,this.#X=Z,this.#G=Q,this.#J=J,this.root.addEventListener("context-request",(V)=>{if(!(V.context&&V.callback))return;if(!this.#W.has(V.context))return;V.stopImmediatePropagation();let H=this.#W.get(V.context);if(V.subscribe){let M=()=>{H.subscribers=H.subscribers.filter((F)=>F!==V.callback)};H.subscribers.push([V.callback,M]),V.callback(H.value,M)}else V.callback(H.value)});let K=(V,H,M)=>wQ(this.#Z,H,M,V),G=(V,H)=>{let[M,F]=EQ(this.#Z,H);if(this.#Z=M,YX(F)){let z=QX(F);if(z.stop_propagation)V.stopPropagation();if(z.prevent_default)V.preventDefault();this.dispatch(z.message,!1)}};this.#Q=new $Q(this.root,K,G,W),this.#Y=y9(this.root),this.#Z=PQ(),this.#R(Y),this.#q()}root=null;dispatch(X,Z=!1){if(this.#V)this.#F.push(X);else{let[Y,Q]=this.#J(this.#X,X);this.#X=Y,this.#N(Q,Z)}}emit(X,Z){(this.root.host??this.root).dispatchEvent(new CustomEvent(X,{detail:Z,bubbles:!0,composed:!0}))}provide(X,Z){if(!this.#W.has(X))this.#W.set(X,{value:Z,subscribers:[]});else{let Y=this.#W.get(X);if(jX(Y.value,Z))return;Y.value=Z;for(let Q=Y.subscribers.length-1;Q>=0;Q--){let[J,W]=Y.subscribers[Q];if(!J){Y.subscribers.splice(Q,1);continue}J(Z,W)}}}#X;#G;#J;#Y;#Z;#Q;#W=new Map;#V=!1;#F=[];#K=S;#H=S;#U=null;#M={dispatch:(X)=>this.dispatch(X),emit:(X,Z)=>this.emit(X,Z),select:()=>{},root:()=>this.root,provide:(X,Z)=>this.provide(X,Z)};#N(X,Z=!1){if(this.#R(X),!this.#U)if(Z)this.#U="sync",queueMicrotask(()=>this.#q());else this.#U=window.requestAnimationFrame(()=>this.#q())}#R(X){this.#V=!0;while(!0){if(LX(X.synchronous,(Y)=>Y(this.#M)),this.#K=_Q(this.#K,X.before_paint),this.#H=_Q(this.#H,X.after_paint),!this.#F.length)break;let Z=this.#F.shift();[this.#X,X]=this.#J(this.#X,Z)}this.#V=!1}#q(){this.#U=null;let X=this.#G(this.#X),{patch:Z,cache:Y}=pZ(this.#Z,this.#Y,X);if(this.#Z=Y,this.#Y=X,this.#Q.push(Z,RZ(Y)),iX(this.#K)){let Q=f9(this.#K);this.#K=S,queueMicrotask(()=>{this.#N(Q,!0)})}if(iX(this.#H)){let Q=f9(this.#H);this.#H=S,window.requestAnimationFrame(()=>this.#N(Q,!0))}}}function f9(X){return{synchronous:X,after_paint:S,before_paint:S}}class g9{#X;constructor(X,[Z,Y],Q,J){this.#X=new CY(X,[Z,Y],J,Q)}send(X){if($Z(X))this.dispatch(X.message,!1);else if(uZ(X))this.emit(X.name,X.data);else if(cZ(X));}dispatch(X){this.#X.dispatch(X)}emit(X,Z){this.#X.emit(X,Z)}}var _9=({init:X,update:Z,view:Y},Q,J)=>{if(!rZ())return vX(pQ());let W=Q instanceof HTMLElement?Q:globalThis.document.querySelector(Q);if(!W)return vX(h9(Q));return hX(new g9(W,X(J),Z,Y))};class v0{#X;#G;#J;#Y;#Z;#Q;#W=WZ();#V=new Set;constructor(X,Z,Y,Q,J,W){let[K,G]=Z(W);this.#X=K,this.#G=Y,this.#J=Q,this.#Y=J,this.#Z=this.#J(this.#X),this.#Q=t8(this.#Z),this.#M(G)}send(X){if(Z9(X)){let{message:Z}=X,Y=this.#F(Z),Q=pZ(this.#Q,this.#Z,Y);this.#Z=Y,this.#Q=Q.cache,this.broadcast(RQ(Q.patch,RZ(Q.cache)))}else if(Q9(X)){let{callback:Z}=X;if(this.#V.add(Z),Z(w8(this.#Y.open_shadow_root,this.#Y.adopt_styles,SZ(this.#Y.attributes),SZ(this.#Y.properties),SZ(this.#Y.contexts),this.#W,this.#Z,RZ(this.#Q))),aZ(config.on_connect))this.#K(oZ(config.on_connect))}else if(W9(X)){let{callback:Z}=X;if(this.#V.delete(Z),aZ(config.on_disconnect))this.#K(oZ(config.on_disconnect))}else if($Z(X)){let{message:Z}=X,[Y,Q]=this.#G(this.#X,Z),J=this.#J(Y),W=pZ(this.#Q,this.#Z,J);this.#M(Q),this.#X=Y,this.#Z=J,this.#Q=W.cache,this.broadcast(RQ(W.patch,RZ(W.cache)))}else if(uZ(X)){let{name:Z,data:Y}=X;this.broadcast(x8(Z,Y))}else if(H9(X)){let{key:Z,value:Y}=X,Q=$X(this.#W,Z);if(YX(Q)&&jX(QX(Q),Y))return;this.#W=KZ(this.#W,Z,Y),this.broadcast(k8(Z,Y))}else if(cZ(X))this.#X=null,this.#G=null,this.#J=null,this.#Y=null,this.#Z=null,this.#Q=null,this.#W=null,this.#V.clear()}broadcast(X){for(let Z of this.#V)Z(X)}#F(X){if(A8(X)){let{messages:Z}=X,Y=this.#X,Q=yZ();for(let J=Z;wX(J);J=wX(J)){let W=this.#F(LZ(J));if(YX(W)){Y=QX(W)[0],Q=d6(R9([Q,QX(W)[1]]));break}}return this.#M(Q),this.#X=Y,this.#J(Y)}else if(L8(X)){let{name:Z,value:Y}=X,Q=this.#H(Z,Y);if(!YX(Q))return this.#Z;return this.#K(QX(Q))}else if(T8(X)){let{name:Z,value:Y}=X,Q=this.#U(Z,Y);if(!YX(Q))return this.#Z;return this.#K(QX(Q))}else if(P8(X)){let{path:Z,name:Y,event:Q}=X,[J,W]=e8(this.#Q,Z,Y,Q);if(this.#Q=J,!YX(W))return this.#Z;let{message:K}=QX(W);return this.#K(K)}else if(E8(X)){let{key:Z,value:Y}=X,Q=$X(this.#Y.contexts,Z);if(!YX(Q))return this.#Z;if(Q=VZ(Y,QX(Q)),!YX(Q))return this.#Z;return this.#K(QX(Q))}}#K(X){let[Z,Y]=this.#G(this.#X,X);return this.#M(Y),this.#X=Z,this.#J(this.#X)}#H(X,Z){let Y=$X(this.#Y.attributes,X);if(!YX(Y))return Y;return QX(Y)(Z)}#U(X,Z){let Y=$X(this.#Y.properties,X);if(!YX(Y))return Y;return QX(Y)(Z)}#M(X){let Z=(K)=>this.send(K9(K)),Y=(K,G)=>this.send(G9(K,G)),Q=()=>{return},J=()=>{return},W=(K,G)=>this.send(V9(K,G));globalThis.queueMicrotask(()=>{p6(X,Z,Y,Q,J,W)})}}class v9 extends I{constructor(X){super();this.selector=X}}var h9=(X)=>new v9(X);class sQ extends I{}var pQ=()=>new sQ;function m0(X,Z,Y){return new bQ(new r,X,Z,Y,U9)}function m9(X,Z,Y){return m0((W)=>{return[X(W),yZ()]},(W,K)=>{return[Z(W,K),yZ()]},Y)}function $9(X,Z,Y){return P6(!rZ(),new n(new sQ),()=>{return _9(X,Z,Y)})}function c0(X,Z){return $6(X,JY(Z,(Y)=>{return new xZ(!1,!1,Y)}),S,oY,oY,0,0)}function rQ(X){return c0("click",cY(X))}var d0="src\\spa_deploy.gleam";class iQ extends I{}class u9 extends I{}function s0(X){return 0}function r0(X,Z){if(Z instanceof iQ)return X+1;else return X-1}function i0(X){let Z=uX(X);return X8(P([]),P([hZ("hello world"),WQ(P([rQ(new iQ)]),P([hZ("+")])),Z8(P([]),P([hZ(Z)])),WQ(P([rQ(new u9)]),P([hZ("-")]))]))}function c9(){let X=m9(s0,r0,i0),Z=$9(X,"#app",void 0);if(!(Z instanceof c))throw xY("let_assert",d0,"spa_deploy",9,"main","Pattern match failed, no pattern matched the value.",{value:Z,start:180,end:229,pattern_start:191,pattern_end:196});return}c9();
